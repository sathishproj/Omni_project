<app-header></app-header>
<div class="container-fluid bg-light min-vh-120 pt-5">
    <div class="row">
      <div class="col-lg-6 px-5 mt-md-5">
        <h1 class="ms-lg-4 feed_txt">Feedback Form</h1>
        <p class="mt-3 text-dark ms-lg-4">
          Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem ipsum has been the industryâ€™s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of letraset sheets containing lorem ipsum passages, and more recently with desktop publishing software like aldus pagemaker including versions of lorem ipsum.
        </p>
        <div class="d-flex justify-content-center align-items-center mt-4 mb-0">
          <img src="assets/locations/feed_back.svg" class="" style="max-height: 400px;" alt="Doctors">
        </div>
      </div>
      <div class="col-lg-6 px-4 mt-4 mt-lg-0">
        <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()" class="border_gray rounded-4 shadow-sm p-4 bg-white">
          <div class="mb-3">
            <label [ngClass]="{'text-danger': submitted && feedbackForm.controls['name'].invalid}" class="form-label">Full Name*</label>
            <input type="text" class="form-control" formControlName="name" [ngClass]="{'is-invalid': submitted && feedbackForm.controls['name'].invalid}">
            <div *ngIf="submitted && feedbackForm.controls['name'].invalid" class="text-danger small">Full Name is required</div>
          </div>
  
          <div class="mb-3">
            <label [ngClass]="{'text-danger': submitted && feedbackForm.controls['email'].invalid}" class="form-label">Email ID*</label>
            <input type="email" class="form-control" formControlName="email" [ngClass]="{'is-invalid': submitted && feedbackForm.controls['email'].invalid}">
            <div *ngIf="submitted && feedbackForm.controls['email'].invalid" class="text-danger small">Valid email is required</div>
          </div>
  
          <div class="mb-3">
            <label [ngClass]="{'text-danger': submitted && feedbackForm.controls['phone'].invalid}" class="form-label">Phone Number*</label>
            <div class="input-group">
              <span class="input-group-text">+91</span>
              <input type="text" class="form-control" formControlName="phone" [ngClass]="{'is-invalid': submitted && feedbackForm.controls['phone'].invalid}">
              <button type="button" class="btn btn-secondary" (click)="getOtp()">Get OTP</button>
            </div>
            <div *ngIf="submitted && feedbackForm.controls['phone'].errors?.['required']" class="text-danger small">Phone number is required</div>
            <div *ngIf="submitted && feedbackForm.controls['phone'].errors?.['pattern']" class="text-danger small">Phone number must be 10 digits and start with 6-9</div>
          </div>
  
          <div *ngIf="otpSent" class="mb-3">
            <label class="form-label">Enter OTP</label>
            <div class="d-flex gap-2">
              <input maxlength="1" *ngFor="let d of otpDigits; let i = index" class="form-control text-center" [(ngModel)]="otpDigits[i]" name="otp{{i}}" style="width: 50px; box-shadow: none !important; outline: none !important;">
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Location*</label>
            <select class="form-select" formControlName="location" (change)="filterDepartments()" [ngClass]="{'is-invalid': submitted && feedbackForm.controls['location'].invalid}">
              <option value="">Select</option>
              <option value="Kothapet">Kothapet</option>
              <option value="Kukkatpally">Kukkatpally</option>
              <option value="Nampally">Udai - Nampally</option>
              <option value="OMNI - Vizag">OMNI - Vizag</option>
              <option value="Giggles Vizag">Giggles Vizag</option>
            </select>
            <div *ngIf="submitted && feedbackForm.controls['location'].invalid" class="text-danger small">Location is required</div>
          </div>

          <div class="mb-3">
            <label class="form-label">Department</label>
            <select class="form-select" formControlName="department">
              <option value="">Select</option>
              <option *ngFor="let dept of filteredDepartments" [value]="dept">{{ dept }}</option>
            </select>
          </div>
  
          <div class="mb-3">
            <label class="form-label">Feedback</label>
            <textarea class="form-control" formControlName="feedback"></textarea>
          </div>

  
          <div class="mt-4 text-center d-flex justify-content-center align-items-center">
            <button type="submit" class="btn text-center btn-outline-dark w-50">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <app-footer></app-footer>